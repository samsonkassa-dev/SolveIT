<form [formGroup]="competitionWinnerForm" *ngIf="authService.isAuthenticated()">
  <h4 class="title" id="form-title">Add Competition Winner</h4>
  <div id="resource-form">
    <div class="input-field" style="margin-top: 1em">
      <select
        name="role"
        class="form-control"
        id="role"
        [(ngModel)]="competitionWinner.competitionId"
        formControlName="competition"
      >
        <option selected value="">Select Competition</option>
        <option
          *ngFor="let competition of competitions"
          value="{{competition.id}}"
          >{{ competition.name }}</option
        >
      </select>
      <div
        class="error-message"
        *ngIf="
          competitionWinnerForm.controls.competition.invalid &&
          competitionWinnerForm.controls.competition.touched
        "
      >
        <p>* Competition is required.</p>
      </div>
    </div>
    <div class="input-field" style="margin-top: 1em">
      <select
        class="form-control"
        name="role"
        id="role"
        [(ngModel)]="competitionWinner.projectId"
        formControlName="project"
      >
        <option selected value="">Select Project</option>
        <ng-container *ngFor="let project of projects">
          <option
            *ngIf="project.solveitproject"
            value="{{project.solveitproject.id}}"
            >{{ project.solveitproject.title }}</option
          >
        </ng-container>
      </select>
      <div
        class="error-message"
        *ngIf="
          competitionWinnerForm.controls.project.invalid &&
          competitionWinnerForm.controls.project.touched
        "
      >
        <p>* Project is required.</p>
      </div>
    </div>
    <div class="form-group" id="resource-upload-btn">
      <input
        type="button"
        (click)="addCompetitionWinner()"
        class="main-btn"
        value="Create"
      />
    </div>
  </div>
</form>
<ng2-toasty [position]="'top-right'"></ng2-toasty>
